<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Admin Dashboard | Study With Keshab</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <style>
        :root {
            --primary: #4361ee;
            --secondary: #3f37c9;
            --success: #4cc9f0;
            --danger: #f72585;
            --dark: #212529;
            --light: #f8f9fa;
            --glass: rgba(255, 255, 255, 0.9);
        }

        body {
            font-family: 'Segoe UI', Roboto, sans-serif;
            background: #e9ecef;
            margin: 0;
            display: flex;
        }

        /* Sidebar Style */
        .sidebar {
            width: 260px;
            height: 100vh;
            background: var(--dark);
            color: white;
            position: fixed;
            padding: 20px;
            box-sizing: border-box;
        }

        .sidebar h2 {
            font-size: 1.2rem;
            text-align: center;
            margin-bottom: 30px;
            color: var(--success);
        }

        .nav-link {
            display: block;
            color: #adb5bd;
            text-decoration: none;
            padding: 12px 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            transition: 0.3s;
        }

        .nav-link:hover, .nav-link.active {
            background: var(--primary);
            color: white;
        }

        .back-home {
            margin-top: 50px;
            border-top: 1px solid #444;
            padding-top: 20px;
        }

        /* Main Content */
        .main-content {
            margin-left: 260px;
            width: calc(100% - 260px);
            padding: 40px;
            box-sizing: border-box;
        }

        .card {
            background: var(--glass);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            backdrop-filter: blur(10px);
            margin-bottom: 30px;
        }

        .tab-content { display: none; }
        .tab-content.active { display: block; animation: fadeIn 0.5s; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        label { font-weight: 600; display: block; margin: 15px 0 5px; color: var(--dark); }
        input, select, button { width: 100%; padding: 12px; border: 1px solid #dee2e6; border-radius: 8px; font-size: 15px; }
        
        .btn { cursor: pointer; font-weight: bold; border: none; transition: 0.3s; color: white; display: inline-block; width: auto; padding: 12px 25px; }
        .btn-save { background: var(--primary); }
        .btn-delete { background: var(--danger); }
        .btn-add { background: var(--success); margin-top: 10px; }

        .item-row { display: flex; gap: 10px; margin-bottom: 10px; background: #fff; padding: 10px; border-radius: 8px; border: 1px solid #eee; }
        #editor { height: 350px; background: white; }
    </style>
</head>
<body>

<div class="sidebar">
    <h2>SWK ADMIN</h2>
    <a href="#" class="nav-link active" onclick="switchTab('class-tab', this)"><i class="fa-solid fa-book"></i> ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶è‡¶°‡¶ø‡¶ü‡¶∞</a>
    <a href="#" class="nav-link" onclick="switchTab('nav-tab', this)"><i class="fa-solid fa-bars"></i> ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏</a>
    <a href="#" class="nav-link" onclick="switchTab('settings-tab', this)"><i class="fa-solid fa-gears"></i> ‡¶ö‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶ü‡¶æ‡¶∞ ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏</a>
    
    <div class="back-home">
        <a href="index.html" class="nav-link" style="color: var(--success);"><i class="fa-solid fa-house"></i> ‡¶π‡ßã‡¶Æ‡¶™‡ßá‡¶ú‡ßá ‡¶´‡¶ø‡¶∞‡ßá ‡¶Ø‡¶æ‡¶®</a>
    </div>
</div>

<div class="main-content">
    <!-- Tab 1: Class Content -->
    <div id="class-tab" class="tab-content active">
        <div class="card">
            <h3><i class="fa-solid fa-pen-to-square"></i> ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü</h3>
            <label>‡¶™‡ßÅ‡¶∞‡¶®‡ßã ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®:</label>
            <select id="existingClasses" onchange="loadSelectedClass()">
                <option value="">-- ‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶® --</option>
            </select>
            <label>Unique ID:</label>
            <input type="text" id="docId" placeholder="e.g. algebra_class1">
            <label>‡¶∂‡¶ø‡¶∞‡ßã‡¶®‡¶æ‡¶Æ:</label>
            <input type="text" id="classTitle" placeholder="‡¶ï‡ßç‡¶≤‡¶æ‡¶∏‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®">
            <label>‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü:</label>
            <div id="editor"></div>
            <div style="margin-top: 20px;">
                <button class="btn btn-save" onclick="saveClassData()">üíæ ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                <button id="deleteBtn" class="btn btn-delete" style="display:none;" onclick="deleteClassData()">üóëÔ∏è ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü</button>
            </div>
        </div>
    </div>

    <!-- Tab 2: Navigation Settings -->
    <div id="nav-tab" class="tab-content">
        <div class="card">
            <h3><i class="fa-solid fa-compass"></i> ‡¶π‡ßã‡¶Æ‡¶™‡ßá‡¶ú ‡¶¨‡¶æ‡¶ü‡¶® ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏</h3>
            <p>‡¶π‡ßã‡¶Æ‡¶™‡ßá‡¶ú‡ßá‡¶∞ ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® ‡¶¨‡¶æ‡¶ü‡¶®‡¶ó‡ßÅ‡¶≤‡ßã ‡¶è‡¶ñ‡¶æ‡¶® ‡¶•‡ßá‡¶ï‡ßá ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
            <div id="navButtonsContainer"></div>
            <button class="btn btn-add" onclick="addNavRow()">+ ‡¶®‡¶§‡ßÅ‡¶® ‡¶¨‡¶æ‡¶ü‡¶® ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            <hr>
            <button class="btn btn-save" onclick="saveNavSettings()">üöÄ ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</button>
        </div>
    </div>

    <!-- Tab 3: Chapter Settings -->
    <div id="settings-tab" class="tab-content">
        <div class="card">
            <h3><i class="fa-solid fa-sliders"></i> ‡¶ö‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶ü‡¶æ‡¶∞ ‡¶á‡¶®‡¶´‡¶∞‡¶Æ‡ßá‡¶∂‡¶®</h3>
            <label>‡¶ö‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶ü‡¶æ‡¶∞‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ:</label>
            <input type="text" id="chapterName">
            <label>‡¶∏‡¶æ‡¶¨‡¶ü‡¶æ‡¶á‡¶ü‡ßá‡¶≤:</label>
            <input type="text" id="chapterSubtitle">
            
            <label>‡¶™‡¶ø‡¶°‡¶ø‡¶è‡¶´ ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü (Drive IDs):</label>
            <div id="pdfListContainer"></div>
            <button class="btn btn-add" onclick="addRow('pdfListContainer')">+ ‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶ø‡¶°‡¶ø‡¶è‡¶´</button>
            
            <button class="btn btn-save" style="margin-top: 20px; width: 100%;" onclick="saveChapterSettings()">üíæ ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
        </div>
    </div>
</div>

<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
<script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
<script src="js/firebase-config.js"></script>
<script src="js/admin-logic.js"></script>

<script>
    // ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ ‡¶∏‡ßÅ‡¶á‡¶ö‡¶ø‡¶Ç ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
    function switchTab(tabId, el) {
        document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.nav-link').forEach(n => n.classList.remove('active'));
        document.getElementById(tabId).classList.add('active');
        el.classList.add('active');
    }
</script>
</body>
</html>